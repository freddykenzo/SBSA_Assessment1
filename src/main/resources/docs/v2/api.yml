openapi: 3.0.3
info:
  description: SBSA Assessment 1
  version: '1.0-SNAPSHOT'
  title: SBSA Assessment 1
servers:
  - url: 'http://localhost:8080'
    description: Local environment
tags:
  - name: user
    description: User operations
paths:
  /user:
    post:
      summary: Register a new user
      description: Register a new User
      operationId: registerUser
      requestBody:
        $ref: '#/components/requestBodies/RegisterUserRequest'
      tags:
        - user
      responses:
        '200':
          description: Successful registration of the user
          content:
            application/json:
              schema:
                type: integer
                format: int64
                description: The id of the user that was registered
        default:
          description: error occurred - see status code and problem object for more information.
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Problem'
components:
  requestBodies:
    RegisterUserRequest:
      description: Request containing parameters to register a user.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/RegisterUserRequest'
  schemas:
    RegisterUserRequest:
      type: object
      properties:
        firstname:
          description: Firstname of the user
          type: string
        surname:
          description: Surname of the user
          type: string
        mobileNumber:
          description: User's mobile number
          type: string
        email:
          description: User's email address
          type: string
          format: email
          example: user@example.com
    Problem:
      type: object
      description: |
        Defines a "problem detail" as a way to carry machine-readable details of
        errors in a HTTP response to avoid the need to define new error response
        formats for HTTP APIs
      externalDocs:
        url: 'https://tools.ietf.org/html/rfc7807'
      properties:
        type:
          type: string
          format: uri
          description: |
            An absolute URI that identifies the problem type.  When dereferenced,
            it SHOULD provide human-readable documentation for the problem type
            (e.g., using HTML).
          default: 'about:blank'
          example: 'https://zalando.github.io/problem/constraint-violation'
        title:
          type: string
          description: |
            A short, summary of the problem type. Written in english and readable
            for engineers (usually not suited for non technical stakeholders and
            not localized)
          example: Service Unavailable
        status:
          type: integer
          format: int64
          description: |
            The HTTP status code generated by the origin server for this occurrence
            of the problem.
          minimum: 100
          maximum: 600
          exclusiveMaximum: true
          example: 503
        detail:
          type: string
          description: |
            A human readable explanation specific to this occurrence of the
            problem.
          example: Connection to database timed out
        instance:
          type: string
          format: uri
          description: |
            An absolute URI that identifies the specific occurrence of the problem.
            It may or may not yield further information if dereferenced.
